import { Meta } from '@storybook/addon-docs';

<Meta title="Getting Started / Documentation Guidelines" />

# Documentation Guidelines

> ðŸ’¡ We are standardizing on Storybook CSF 3 and preparing for Storybook v9. Prefer controls, a11y, autodocs, and typed stories.

## General Guidelines

Thorough documentation makes components easier to find, adapt, and reuse. Keep examples simple, deterministic, and accessible.

- Put yourself in the shoes of a first-time user of the component
- Add a brief description in the component's `README.mdx`
- Display the component API via `<ArgsTable of={YourComponent} />`; add descriptions via JSDoc in TypeScript types or PropTypes
- Use [Controls](https://storybook.js.org/addons/@storybook/addon-controls/) (not knobs)
- Use the [action argType annotation](https://storybook.js.org/docs/react/essentials/actions#action-argtype-annotation) for events

## Creating a Story (CSF 3)

[Component Story Format (CSF)](https://storybook.js.org/docs/writing-stories) is the recommended way to write stories. Use CSF 3 with typed `Meta` and `StoryObj`.

```tsx
import type { Meta, StoryObj } from '@storybook/react';
import { Button } from '.';

const meta: Meta<typeof Button> = {
  title: 'Components/UI/Button',
  component: Button,
};
export default meta;

type Story = StoryObj<typeof meta>;

export const Default: Story = {
  args: {
    children: 'Default',
    disabled: false,
  },
};

export const WithClick: Story = {
  args: { children: 'Click me' },
  render: (args) => <Button {...args} onClick={() => console.log('clicked')} />,
};
```

- Title should mirror folder structure; avoid spaces.
- Prefer `args` for variations instead of ad-hoc state.
- Use `render` when you need composition or handlers; keep it minimal.

## Controls and ArgTypes

```ts
const meta: Meta<typeof Button> = {
  title: 'Components/UI/Button',
  component: Button,
  argTypes: {
    children: { control: 'text' },
    disabled: { control: 'boolean' },
    onClick: { action: 'clicked' },
    type: {
      control: { type: 'select' },
      options: ['default','primary','secondary','warning','danger','danger-primary','link'],
    },
  },
};
```

## Writing MDX Documentation

Use MDX to provide narrative docs and embed stories.

```mdx
import { Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { Button } from '.';

# Button

Buttons communicate actions that users can take.

<Canvas>
  <Story id="components-ui-button--default" />
</Canvas>

## Props

<ArgsTable of={Button} />
```

## Additional Best Practices

- Keep stories deterministic; mock time, randomness, and network
- Use per-story decorators where possible; keep global decorators minimal
- Prefer autodocs; use custom MDX pages only when necessary
- Ensure accessible usage; include labels and roles in examples

## References
- CSF 3: `https://storybook.js.org/docs/writing-stories#stories-in-csf-3`
- Args and Controls: `https://storybook.js.org/docs/writing-stories/args`
- MDX docs: `https://storybook.js.org/docs/writing-docs/mdx`
- Replace Template.bind: `https://storybook.js.org/docs/writing-stories#using-render-to-replace-template-bind`
- Storybook v9 migration: `https://storybook.js.org/docs/migrations/v9`
